import{r,j as e,L as u,I as d}from"./index-Cbj6J2n5.js";import{R as b,L as g,C as w,X as j,Y as v,T as y,a as N}from"./LineChart-k3EHvHCt.js";import"./index-BwDsoYh0.js";function L(){const[a,n]=r.useState(()=>{try{const t=localStorage.getItem("fit_bodyfat");return t?JSON.parse(t):[]}catch{return[]}}),[s,c]=r.useState(new Date().toISOString().split("T")[0]),[l,o]=r.useState("");r.useEffect(()=>{localStorage.setItem("fit_bodyfat",JSON.stringify(a))},[a]);const x=()=>{if(!l||!s)return;const t={id:Date.now().toString(),date:s,percentage:parseFloat(l)},i=[...a,t].sort((p,f)=>new Date(p.date).getTime()-new Date(f.date).getTime());n(i),o("")},h=t=>{n(a.filter(i=>i.id!==t))},m=a.map(t=>({date:new Date(t.date).toLocaleDateString("zh-CN",{month:"short",day:"numeric"}),value:t.percentage}));return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans selection:bg-white/20",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] bg-emerald-900/10 rounded-full blur-[120px] animate-pulse-slow"}),e.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[60vw] h-[60vw] bg-purple-900/10 rounded-full blur-[120px]"})]}),e.jsxs("div",{className:"relative max-w-3xl mx-auto px-6 py-12 md:py-20",children:[e.jsx("div",{className:"flex items-center justify-between mb-12",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{to:"/",className:"p-3 rounded-full bg-white/[0.05] hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:e.jsx(d.ArrowLeft,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"体脂记录"}),e.jsx("p",{className:"text-emerald-400 text-sm font-medium mt-1",children:"Body Fat Tracker"})]})]})}),e.jsx("div",{className:"mb-10 p-6 rounded-3xl bg-white/[0.03] border border-white/[0.05] h-[400px]",children:a.length>0?e.jsx(b,{width:"100%",height:"100%",children:e.jsxs(g,{data:m,children:[e.jsx(w,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)",vertical:!1}),e.jsx(j,{dataKey:"date",stroke:"#666",tick:{fill:"#666",fontSize:12},tickLine:!1,axisLine:!1,dy:10}),e.jsx(v,{stroke:"#666",tick:{fill:"#666",fontSize:12},tickLine:!1,axisLine:!1,domain:["dataMin - 1","dataMax + 1"],unit:"%"}),e.jsx(y,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},itemStyle:{color:"#fff"},labelStyle:{color:"#888",marginBottom:"4px"}}),e.jsx(N,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:0,r:4},activeDot:{r:6,stroke:"#fff",strokeWidth:2}})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"暂无数据，请添加记录"})}),e.jsxs("div",{className:"mb-10 p-6 rounded-3xl bg-white/[0.03] border border-white/[0.05]",children:[e.jsx("h3",{className:"text-lg font-bold mb-6 text-white",children:"添加记录"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2",children:"日期"}),e.jsx("input",{type:"date",value:s,onChange:t=>c(t.target.value),className:"w-full px-4 py-3 rounded-xl bg-black/20 border border-white/10 focus:border-emerald-500 outline-none transition-all text-white"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2",children:"体脂率 (%)"}),e.jsx("input",{type:"number",step:"0.1",value:l,onChange:t=>o(t.target.value),placeholder:"0.0",className:"w-full px-4 py-3 rounded-xl bg-black/20 border border-white/10 focus:border-emerald-500 outline-none transition-all text-white placeholder-white/20"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:x,disabled:!l||!s,className:"w-full md:w-auto px-8 py-3 rounded-xl bg-emerald-600 text-white font-medium hover:bg-emerald-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"记录"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-white px-2",children:"历史记录"}),a.length===0?e.jsx("p",{className:"text-gray-600 px-2",children:"暂无历史记录"}):[...a].reverse().map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/[0.02] border border-white/[0.05] hover:border-white/10 transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-gray-400 font-mono text-sm",children:t.date}),e.jsxs("span",{className:"text-xl font-bold text-white",children:[t.percentage,"%"]})]}),e.jsx("button",{onClick:()=>h(t.id),className:"p-2 text-gray-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:e.jsx(d.X,{className:"w-4 h-4"})})]},t.id))]})]})]})}export{L as default};
