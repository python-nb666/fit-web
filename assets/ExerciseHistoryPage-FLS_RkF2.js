import{u as m,a as h,g as f,r as o,f as g,j as e,L as u,I as p}from"./index-Bur6qMHs.js";import{R as b,L as j,C as w,X as v,Y as N,T as y,a as k}from"./LineChart-DSDWKrDZ.js";function S(){const{exerciseName:d}=m(),{records:n}=h(),r=f(d||""),s=o.useMemo(()=>{if(!r)return[];const c=n.filter(t=>t.exercise===r).reduce((t,a)=>{const l=a.date;return(!t[l]||a.weight>t[l])&&(t[l]=a.weight),t},{});return Object.entries(c).map(([t,a])=>({date:t,displayDate:g(t),weight:a})).sort((t,a)=>new Date(t.date).getTime()-new Date(a.date).getTime())},[n,r]),x=o.useMemo(()=>s.length===0?0:Math.max(...s.map(i=>i.weight)),[s]);return r?e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans selection:bg-white/20",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] bg-purple-900/10 rounded-full blur-[120px] animate-pulse-slow"}),e.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[60vw] h-[60vw] bg-blue-900/10 rounded-full blur-[120px]"})]}),e.jsxs("div",{className:"relative max-w-3xl mx-auto px-6 py-12 md:py-20",children:[e.jsx("div",{className:"flex items-center justify-between mb-12",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{to:-1,className:"p-3 rounded-full bg-white/[0.05] hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:e.jsx(p.ArrowLeft,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:r}),e.jsx("p",{className:"text-purple-400 text-sm font-medium mt-1",children:"历史最大重量记录"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"p-5 rounded-2xl bg-white/[0.03] border border-white/[0.05]",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"历史最佳"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[x," ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"kg"})]})]}),e.jsxs("div",{className:"p-5 rounded-2xl bg-white/[0.03] border border-white/[0.05]",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"训练天数"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[s.length," ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"天"})]})]})]}),e.jsx("div",{className:"mb-10 p-6 rounded-3xl bg-white/[0.03] border border-white/[0.05] h-[400px] w-full",children:s.length>0?e.jsx(b,{width:"100%",height:"100%",debounce:300,children:e.jsxs(j,{data:s,children:[e.jsx(w,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)",vertical:!1}),e.jsx(v,{dataKey:"displayDate",stroke:"#666",tick:{fill:"#666",fontSize:12},tickLine:!1,axisLine:!1,dy:10,minTickGap:30}),e.jsx(N,{stroke:"#666",tick:{fill:"#666",fontSize:12},tickLine:!1,axisLine:!1,domain:["dataMin - 5","dataMax + 5"],unit:"kg"}),e.jsx(y,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},itemStyle:{color:"#fff"},labelStyle:{color:"#888",marginBottom:"4px"}}),e.jsx(k,{type:"monotone",dataKey:"weight",stroke:"#a855f7",strokeWidth:3,dot:{fill:"#a855f7",strokeWidth:0,r:4},activeDot:{r:6,stroke:"#fff",strokeWidth:2}})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"暂无数据"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-white px-2",children:"详细记录"}),[...s].reverse().map(i=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/[0.02] border border-white/[0.05] hover:border-white/10 transition-all",children:[e.jsx("span",{className:"text-gray-400 font-mono text-sm",children:i.date}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-xl font-bold text-white",children:i.weight}),e.jsx("span",{className:"text-sm text-gray-500",children:"kg"})]})]},i.date))]})]})]}):null}export{S as default};
